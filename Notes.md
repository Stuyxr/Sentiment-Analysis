
这段代码的主要目的是从正面和负面评论文件中读取数据、进行预处理，并将预处理后的数据保存为 PyTorch 张量以供稍后进行情感分析。以下是代码的详细步骤：

导入所需的库，如 jieba（用于中文分词）、numpy、torch 和 gensim.models.KeyedVectors。

定义文件路径，如正面和负面训练数据、测试数据、分词数据和词向量等。

定义 read_data(path) 函数，用于从给定路径的文件中读取原始评论数据，并返回评论列表。

定义 get_vec(sentence) 函数，用于将分词后的句子转换为词向量序列。对于每个句子，它会选择前 100 个词（如果有的话）并将其转换为词向量。如果句子中的词数少于 100 个，它会在序列前补零以达到 100 个词的长度。

定义 get_test_data() 函数，用于读取、分词和转换测试数据，并将其保存为 PyTorch 张量。

定义 get_data(load_from_file=True) 函数，用于获取训练和测试数据。这个函数有两个主要部分：

如果 load_from_file 为 False（表示从头开始处理数据），它会执行以下操作：
从正面和负面训练数据文件中读取原始评论数据。
对评论数据进行中文分词，并将分词结果保存到文件中。
从预训练的词向量模型（如 sgns.weibo.bigram）中加载词向量。
将分词后的句子转换为词向量序列，并将结果保存为 PyTorch 张量。
为训练数据创建标签张量（正面评论为 1，负面评论为 0）。
随机打乱训练数据和标签的顺序。
将处理后的训练数据和标签张量保存到文件中。
调用 get_test_data() 函数获取测试数据。
如果 load_from_file 为 True（表示从文件中加载已处理的数据），它会直接从文件中加载训练数据、标签和测试数据张量。
定义 change_order(set, target) 函数，用于打乱给定数据集和标签的顺序。

在最后一行，调用 get_data(False) 函数以从头开始处理数据。您可以根据需要将其更改为 get_data(True)，以从文件中加载已处理的数据。

总之，这段代码的主要功能是读取原始评论数据，将其分词并转换为词向量